<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <p>Display Rules are JavaScript expressions that test variables for the purpose of conditionally displaying annotations. If the expression evaluates to TRUE, the annotation will be rendered. If the expression evaluates to FALSE, the annotation will not be rendered. Display Rules can be added to any annotation type. Common use cases include:</p>
    <ul>
      <li>Display an annotation when a viewer clicks on a different annotation</li>
      <li>Display an annotation when the viewer gets a quiz question right or wrong</li>
      <li>Display an annotation based on a parameter passed in from an external API </li>
    </ul>
    <p>Display rules require that you are comfortable working with HTML, JavaScript and CSS. Codeacademy offers free <a href="https://www.codecademy.com/en/tracks/web" rel="nofollow noopener noreferrer" target="_blank">HTML/CSS</a> and <a href="https://www.codecademy.com/en/tracks/javascript" rel="nofollow noopener noreferrer" target="_blank">JavaScript</a> courses that may be helpful to beginners.</p>
  </section>
  <section class="bcls-section">
    <h2 id="add-rule">Adding a display rule</h2>
    <p>To add a display rule to an annotation, follow these steps.</p>
    <ol class="bcls-tasklist-restart">
      <li>Login to Video Cloud Studio.</li>
      <li>Open the <strong>Interactivity</strong> module.</li>
      <li> Click on a project <strong>Title</strong> to open it.</li>
      <li>In the list of annotations, locate the annotation and click the edit icon (<img src="/assets/images/s-brightcove-interactivity-img/platform/custom-annotations/display-rules/icon-edit.png">).</li>
      <li>In the <strong>Edit</strong> menu, click <strong>More...</strong></li>
      <li>Click <strong>Display Rule</strong>.
        <figure class="bcls-figure"> <img src="/assets/images/s-brightcove-interactivity-img/annotations/display-rules/new-display-rule.png"> </figure>
          <aside class="bcls-aside bcls-aside--information language-editable">Note: The <strong>Select Variable</strong> option is only available if a quiz has been added to the project.</aside>
      </li>
      <li>Enter the display rule. The expression entered in this dialog will be evaluated prior to rendering the annotation.<br>
      </li>
      <li>Click <span class="button-blue"><strong>Submit</strong></span>.</li>
      <li>Click <strong>Done</strong>.</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="syntax">Display rule syntax</h2>
    <h3>Testing for a set variable</h3>
    <p>Rule: <code>[variable name]</code> eg. <code>my_var</code></p>
    <p>This is the same as writing <code>my_var=true</code>. This will be true if the resolved variable is defined and itâ€™s value is not false.</p>
    <h3>Testing equality</h3>
    <p>Rule: <code>[variable name]==&quot;value&quot;</code> eg. <code>my_var==&quot;Kyle&quot;</code></p>
    <p>This will be true only if the resolved variable is exactly equal to the string value between the single quotes.</p>
    <h3>Testing for correct quiz answers</h3>
    <p>Rule: <code>[quiz variable name]_correct</code> eg. <code>quiz_123_1_correct</code></p>
    <p>This will be true only if the resolved variable is equal to the correct answer of the quiz question.</p>
    <h3>Testing for incorrect quiz answers</h3>
    <p>Rule: <code>[quiz variable name] &amp;&amp; ![quiz variable name]_correct</code> eg. <code>quiz_123_1 &amp;&amp;<br>
      !quiz_123_1_correct</code></p>
    <p>This will be true only if the resolved variable is NOT equal to the correct answer of the quiz question.</p>
  </section>
  <section class="bcls-section">
    <h2 id="example">Example</h2>
    <p>Here's a basic example. Clicking on one annotation will make another appear.</p>
    <div style="position: relative; display: block; max-width: 800px;">
      <div style="padding-top: 56.25%;">
        <iframe src="https://players.brightcove.net/1752604059001/UivhMH9oq_default/index.html?videoId=1739617402811689392" allowfullscreen="" allow="encrypted-media" style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;"></iframe>
      </div>
    </div>
    <p>In this example, a triggered action is set at the beginning of the video to set a JavaScript variable <code>apple</code> to <code>true</code>.</p>
    <p>The image and text annotations are configured with the same start and end times.</p>
    <p>The apple and orange images are both image overlays. They both have display rules set so they only show if their respective JavaScript variable (<code>apple</code> or <code>orange</code>) is set to <code>true</code>. For example, here is the display rule for the orange.</p>
    <p>
    <figure class="bcls-figure"> <img src="/assets/images/s-brightcove-interactivity-img/annotations/display-rules/orange-display-rule.png"></figure>
    </p>
    <p>This will cause the orange image overlay to only display when the variable <code>orange = true</code>.</p>
    <p>The text overlay <strong>Click here to change the image to display an orange</strong> is configured with a display rule to display when <code>apple = true</code>. The <strong>Link</strong> setting is configured to switch the variables when clicked.</p>
    <p>
    <figure class="bcls-figure"> <img src="/assets/images/s-brightcove-interactivity-img/annotations/display-rules/orange-text.png"></figure>
    </p>
    <p>So clicking the text will set <code>orange</code> to <code>true</code> which will make the alternate text overlay and orange image both appear.</p>
  </section>
</article>